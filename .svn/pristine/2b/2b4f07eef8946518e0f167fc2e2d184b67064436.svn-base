package com.android.smartmobile.cz.activity;

import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;

import javax.xml.parsers.ParserConfigurationException;
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;

import org.xml.sax.InputSource;
import org.xml.sax.SAXException;
import org.xml.sax.XMLReader;

import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.telephony.TelephonyManager;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.WindowManager;
import android.widget.Button;
import android.widget.EditText;

import com.android.smartmobile.cz.R;
import com.android.smartmobile.cz.finals.Constants;
import com.android.smartmobile.cz.interf.InitActivity;
import com.android.smartmobile.cz.model.BaseActivity;
import com.android.smartmobile.cz.model.MyApplication;
import com.android.smartmobile.cz.service.PlistHandler;
import com.android.smartmobile.cz.service.PullParseGHFieldService;
import com.android.smartmobile.cz.util.LogUtil;

public class LoginActivity extends BaseActivity implements InitActivity {
	private EditText edit_login_username, edit_login_password;
	private Button btn_login, btn_exit;
	private Context mContext;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		super.onCreate(savedInstanceState);
		setContentView(R.layout.layout_login);
		mContext = LoginActivity.this;
		getWindow().setSoftInputMode(
				WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);
		initView();
	}

	@Override
	public void initData() {
		// TODO Auto-generated method stub

	}

	@Override
	public void initView() {
		// TODO Auto-generated method stub
		edit_login_username = (EditText) this
				.findViewById(R.id.edit_login_username);
		edit_login_password = (EditText) this
				.findViewById(R.id.edit_login_password);
		btn_login = (Button) this.findViewById(R.id.btn_login);
		btn_login.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				// TODO Auto-generated method stub
				startActivity(new Intent(mContext, MainActivity.class));
				finish();
			}
		});

		btn_exit = (Button) this.findViewById(R.id.btn_exit);
		btn_exit.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				// TODO Auto-generated method stub
				// ToastUtil.makeToastInCenter(getPhoneNumber(mContext));
				// finish();

				/*
				 * try { Map<String, List<String>> map = PullParseGHFieldService
				 * .getArrMap(); LogUtil.LoLoLog().d(map.size()); } catch
				 * (XmlPullParserException e) { // TODO Auto-generated catch
				 * block e.printStackTrace(); } catch (IOException e) { // TODO
				 * Auto-generated catch block e.printStackTrace(); }
				 */

				HashMap<String, Object> hashMap = (HashMap<String, Object>) PullParseGHFieldService
						.getArrByName("规划工程红线");
				LogUtil.LoLoLog().d(hashMap.size());
				ArrayList<String>  strings=(ArrayList<String>)hashMap.get("DisplayOrder");
				
				LogUtil.LoLoLog().d(strings.size());
			}
		});
	}

	public static String getPhoneNumber(Context context) {

		TelephonyManager mTelephonyMgr;

		mTelephonyMgr = (TelephonyManager) context
				.getSystemService(Context.TELEPHONY_SERVICE);

		return mTelephonyMgr.getLine1Number();

	}

	@Override
	public void clearView() {
		// TODO Auto-generated method stub

	}

}
